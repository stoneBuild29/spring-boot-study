# Step Guide

### Coding  template 

The project was achieved after I have copied once.I have to understand the interior logical connection to write these codes.Gradually, I am building a cognition on Mybatis

* create a whole project(ensure the project runsuccessfully)

* to achieve the technique, add the dependency

  ```xml
          <dependency>
              <groupId>mysql</groupId>
              <artifactId>mysql-connector-java</artifactId>
              <scope>runtime</scope>
          </dependency>
          <dependency>
              <groupId>com.baomidou</groupId>
              <artifactId>mybatis-plus-boot-starter</artifactId>
          </dependency>
  ```

* add the application.yml in which the datasource and web configuration is done

  ```yaml
  spring:
    datasource:
      driver-class-name: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://127.0.0.1:3306/springboot?characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
      username: root
      password: 123456
  
  #WEB配置
  server:
    port: 8080
    servlet:
      context-path: /springboot
      session:
        timeout: 60
  ```

* create a table corresponding the service I want and note the main key / index

* Most important, the revelant files are generated by code.So I copy the generator file to "common" module.When I run the class ,the service/controller/mapper/xml would be generated automatically.

* Next, I will add extra functions based on this situation.For example, the project can not implement the auto-fill of factors and complex functions extands the fundamental methods.

  ![截屏2024-08-22 09.34.58](/Users/scarlet/code/github/pic/workList/截屏2024-08-22 09.34.58.png)

***

- add page configuration. MyBatis Plus has a very  convenient configuration.I have to add a "MyBatisPlusConfig" so that the page function is implemented.

  ```java
  @Configuration
  public class MyBatisPlusConfig {
  
      /**
       * 为了写分页方法
       */
      @Bean
      public MybatisPlusInterceptor mybatisPlusInterceptor(){
          MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        	//指明数据库类型
          interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
          return interceptor;
      }
  }
  ```

- Based on the function I have read on working, the search function will be override.Only I have done the function on mapper, will the search method be implemented.

  ```
      default List<User> findUser(PageReqVO pageReqVO){
          return selectList(new LambdaQueryWrapper<User>()
                  .eq(User::getEmail, pageReqVO.getEmail())
                  .like(User::getName, pageReqVO.getName())
                  .between(User::getBirthDay, LocalDate.parse("2003-12-31"), LocalDate.parse("2023-12-31")));
      }
  ```

---

配置Druid

1. Druid 是什么？

   数据库连接组件，主要用于存储和查询时序数据和事件数据。支持高吞吐量的数据摄取和快速的实时数据查询。

2. 配置

   - 添加pom依赖

     ```
        <dependency>
                 <groupId>com.alibaba</groupId>
                 <artifactId>druid-spring-boot-starter</artifactId>
             </dependency>
     ```

   - 添加配置

     在数据源内进行druid的配置，开启监控等。(和DruidConfig选一个即可，两个实现一样的功能。)

     ![截屏2024-08-23 11.14.54](https://cdn.jsdelivr.net/gh/stoneBuild29/MyPictures@main/upload/%E6%88%AA%E5%B1%8F2024-08-23%2011.14.54.png)

​		![image-20240823112826199](https://cdn.jsdelivr.net/gh/stoneBuild29/MyPictures@main/upload/image-20240823112826199.png)

此时，druid的监控系统可以通过地址进行访问。网页内展示应用的软件信息，SQL的执行情况和请求等。
